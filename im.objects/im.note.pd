#N canvas -1732 56 1596 881 10;
#X obj 78 54 symbol \$1;
#X obj 78 23 loadbang;
#X obj 78 79 list fromsymbol;
#X obj 78 180 list length;
#X obj 298 117 unpack 0 0 0;
#X obj 333 158 expr if ($f1 == 35 \, 1 \, if ($f1 == 98 \, -1 \, 0
));
#X text 177 78 << convert first argument to ASCII;
#X text 133 158 get accidental modifier >>;
#X obj 298 216 expr $f1 + $f2 + $f3;
#X obj 367 178 expr ($f1 - 49) * 12;
#X obj 283 275 i;
#X obj 625 119 unpack 0 0;
#X obj 682 180 expr ($f1 - 49) * 12;
#X obj 610 271 i;
#X obj 625 221 expr $f1 + $f2;
#X obj 78 242 sel 3 2;
#X obj 78 210 pipe 10;
#X text 151 138 get MIDI note number >>;
#X text 157 176 get octave modifier >>;
#N canvas -1167 483 620 527 getMidiNote 0;
#X obj 40 24 inlet;
#X obj 40 49 sel 65 66 67 68 69 70 71;
#X msg 98 75 24;
#X msg 126 75 26;
#X msg 155 75 28;
#X msg 184 75 29;
#X msg 213 75 31;
#X msg 40 75 33;
#X msg 69 75 35;
#X obj 40 110 outlet;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 1 1 8 0;
#X connect 1 2 2 0;
#X connect 1 3 3 0;
#X connect 1 4 4 0;
#X connect 1 5 5 0;
#X connect 1 6 6 0;
#X connect 2 0 9 0;
#X connect 3 0 9 0;
#X connect 4 0 9 0;
#X connect 5 0 9 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X restore 298 138 pd getMidiNote;
#N canvas -1167 483 620 527 getMidiNote 0;
#X obj 40 24 inlet;
#X obj 40 49 sel 65 66 67 68 69 70 71;
#X msg 98 75 24;
#X msg 126 75 26;
#X msg 155 75 28;
#X msg 184 75 29;
#X msg 213 75 31;
#X msg 40 75 33;
#X msg 69 75 35;
#X obj 40 110 outlet;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 1 1 8 0;
#X connect 1 2 2 0;
#X connect 1 3 3 0;
#X connect 1 4 4 0;
#X connect 1 5 5 0;
#X connect 1 6 6 0;
#X connect 2 0 9 0;
#X connect 3 0 9 0;
#X connect 4 0 9 0;
#X connect 5 0 9 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X restore 625 140 pd getMidiNote;
#X obj 283 328 sig~;
#X obj 283 355 outlet~;
#X text 378 116 << use when accidental is provided;
#X text 695 117 << no accidental;
#X obj 560 300 inlet~;
#X obj 560 322 *~ \$2;
#X obj 560 350 outlet~;
#X text 335 354 << MIDI note value;
#X text 608 350 << amplitude;
#X text 176 15 arguments: \$1 = note \, \$2 = amplitude;
#X text 176 32 inlet: trigger signal (0-1);
#X text 176 48 outlets: MIDI note value signal \, amplitude signal
;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 11 0;
#X connect 3 0 16 0;
#X connect 4 0 19 0;
#X connect 4 1 5 0;
#X connect 4 2 9 0;
#X connect 5 0 8 1;
#X connect 8 0 10 1;
#X connect 9 0 8 2;
#X connect 10 0 21 0;
#X connect 11 0 20 0;
#X connect 11 1 12 0;
#X connect 12 0 14 1;
#X connect 13 0 21 0;
#X connect 14 0 13 1;
#X connect 15 0 10 0;
#X connect 15 1 13 0;
#X connect 16 0 15 0;
#X connect 19 0 8 0;
#X connect 20 0 14 0;
#X connect 21 0 22 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
